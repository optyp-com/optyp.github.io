---
--- 
<nav class="fixed inset-x-0 top-0 z-50 bg-white/30 backdrop-blur-lg border-b border-white/40 shadow-sm">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-2">
      <img src="/logo.svg" alt="OPTYP Logo" class="h-8 w-8" />
      <span class="text-xl font-bold text-primary-600">OPTYP</span>
    </a>

    <!-- Desktop Menu -->
    <ul class="hidden md:flex space-x-8 text-gray-800 font-medium items-center">
      {["Home","About","Services","Plans","Testimonials","Contact"].map((item) => (
        <li>
          <a 
            href={`#${item.toLowerCase()}`} 
            class="relative hover:text-primary-600 transition-colors after:block after:h-[2px] after:w-0 after:bg-primary-600 after:transition-all after:duration-300 hover:after:w-full after:absolute after:-bottom-1 after:left-0"
          >
            {item}
          </a>
        </li>
      ))}

      <!-- ðŸ”½ Explore Dropdown -->
      <li class="relative group">
        <button class="flex items-center gap-1 hover:text-primary-600">
          Explore
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M5 7l5 5 5-5H5z" /></svg>
        </button>
        <div class="absolute left-0 mt-2 hidden group-hover:block bg-white shadow-lg rounded-md w-56 z-50">
          <ul class="py-2">
            <li><a href="/explore/ats-resume" class="block px-4 py-2 hover:bg-gray-100">ATS Resume</a></li>
            <li><a href="/explore/linkedin" class="block px-4 py-2 hover:bg-gray-100">LinkedIn Optimization</a></li>
            
            <!-- Job Portals -->
            <li class="relative group">
              <button class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center justify-between">
                Job Portals
                <svg class="w-4 h-4"><path d="M7 5l5 5-5 5V5z"/></svg>
              </button>
              <ul class="absolute top-0 left-full hidden group-hover:block bg-white rounded-md shadow-lg w-48">
                <li><a href="/explore/job-portals/naukri" class="block px-4 py-2 hover:bg-gray-100">Naukri</a></li>
                <li><a href="/explore/job-portals/indeed" class="block px-4 py-2 hover:bg-gray-100">Indeed</a></li>
              </ul>
            </li>

            <!-- Freelancing -->
            <li class="relative group">
              <button class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center justify-between">
                Freelancing
                <svg class="w-4 h-4"><path d="M7 5l5 5-5 5V5z"/></svg>
              </button>
              <ul class="absolute top-0 left-full hidden group-hover:block bg-white rounded-md shadow-lg w-48">
                <li><a href="/explore/freelancing/fiverr" class="block px-4 py-2 hover:bg-gray-100">Fiverr</a></li>
                <li><a href="/explore/freelancing/upwork" class="block px-4 py-2 hover:bg-gray-100">Upwork</a></li>
                <li><a href="/explore/freelancing/toptal" class="block px-4 py-2 hover:bg-gray-100">Toptal</a></li>
              </ul>
            </li>

            <li><a href="/explore/github" class="block px-4 py-2 hover:bg-gray-100">GitHub Optimization</a></li>
            <li><a href="/explore/portfolio-site" class="block px-4 py-2 hover:bg-gray-100">Portfolio Website</a></li>
            <li><a href="/explore/personal-branding" class="block px-4 py-2 hover:bg-gray-100">Personal Branding</a></li>
          </ul>
        </div>
      </li>
    </ul>

    <!-- Mobile Hamburger -->
    <button
      id="nav-toggle"
      class="md:hidden text-gray-700 focus:outline-none"
      aria-label="Toggle navigation menu"
      onclick="toggleMobileMenu()"
    >
      <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu"
       class="hidden md:hidden bg-white/30 backdrop-blur-lg border-t border-white/40 shadow-lg transform -translate-y-5 opacity-0 transition-all duration-500 ease-out">
    <ul class="flex flex-col space-y-2 px-6 py-4 text-gray-800 font-medium">
      <li><a href="#hero" class="block py-2 hover:text-primary-600 transition-colors">Home</a></li>
      <li><a href="#about" class="block py-2 hover:text-primary-600 transition-colors">About</a></li>
      <li><a href="#services" class="block py-2 hover:text-primary-600 transition-colors">Services</a></li>
      <li><a href="#plans" class="block py-2 hover:text-primary-600 transition-colors">Plans</a></li>
      <li><a href="#testimonials" class="block py-2 hover:text-primary-600 transition-colors">Testimonials</a></li>

      <!-- Explore collapsible -->
      <li>
        <details>
          <summary class="cursor-pointer py-2">Explore</summary>
          <ul class="ml-4 mt-2 space-y-1">
            <li><a href="/explore/ats-resume" class="block">ATS Resume</a></li>
            <li><a href="/explore/linkedin" class="block">LinkedIn Optimization</a></li>
            <li>
              <details>
                <summary>Job Portals</summary>
                <ul class="ml-4 mt-1 space-y-1">
                  <li><a href="/explore/job-portals/naukri" class="block">Naukri</a></li>
                  <li><a href="/explore/job-portals/indeed" class="block">Indeed</a></li>
                </ul>
              </details>
            </li>
            <li>
              <details>
                <summary>Freelancing</summary>
                <ul class="ml-4 mt-1 space-y-1">
                  <li><a href="/explore/freelancing/fiverr" class="block">Fiverr</a></li>
                  <li><a href="/explore/freelancing/upwork" class="block">Upwork</a></li>
                  <li><a href="/explore/freelancing/toptal" class="block">Toptal</a></li>
                </ul>
              </details>
            </li>
            <li><a href="/explore/github" class="block">GitHub Optimization</a></li>
            <li><a href="/explore/portfolio-site" class="block">Portfolio Website</a></li>
            <li><a href="/explore/personal-branding" class="block">Personal Branding</a></li>
          </ul>
        </details>
      </li>

      <li>
        <button
          class="flex items-center space-x-2 py-2 w-full text-left hover:text-primary-600 transition-colors"
          onclick="document.getElementById('mobile-menu').classList.add('hidden'); openContactForm();"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-18 8h18a2 2 0 002-2V6a2 2 0 00-2-2H3a2 2 0 00-2 2v8a2 2 0 002 2z" />
          </svg>
          <span>Contact</span>
        </button>
      </li>
    </ul>
  </div>

  <script is:inline>
    // Smooth scroll (desktop)
    document.querySelectorAll('nav ul a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const navHeight = document.querySelector('nav').offsetHeight;
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (!targetElement) return;
        const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
        window.scrollTo({
          top: elementPosition - navHeight,
          behavior: 'smooth'
        });
      });
    });

    // Mobile menu toggle with animation
    function toggleMobileMenu() {
      const menu = document.getElementById("mobile-menu");
      if (menu.classList.contains("hidden")) {
        menu.classList.remove("hidden");
        requestAnimationFrame(() => {
          menu.classList.remove("opacity-0","-translate-y-5");
          menu.classList.add("opacity-100","translate-y-0");
        });
      } else {
        menu.classList.remove("opacity-100","translate-y-0");
        menu.classList.add("opacity-0","-translate-y-5");
        setTimeout(() => menu.classList.add("hidden"), 500);
      }
    }
  </script>
</nav>
