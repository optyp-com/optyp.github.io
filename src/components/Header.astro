---
---
<header class="bg-white dark:bg-gray-900 shadow sticky top-0 z-40 transition-colors duration-300">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-2">
      <!-- Light Logo -->
      <img src="/images/logo.svg" alt="OPTYP Logo"
           class="h-10 w-auto block dark:hidden" />
      <!-- Dark Logo -->
      <img src="/images/logo-white.svg" alt="OPTYP Logo Dark"
           class="h-10 w-auto hidden dark:block" />
      <span class="font-bold text-xl text-primary-500 tracking-wide">OPTYP</span>
    </a>

    <!-- Right Side Controls -->
    <div class="flex items-center space-x-4">
      <!-- ðŸŒ™ Dark Mode Toggle -->
      <button id="dark-mode-toggle"
        class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition"
        aria-label="Toggle dark mode">
        <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-500 hidden transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 3v1m0 16v1m8.66-13.66l-.7.7M5.05 18.95l-.7.7M21 12h-1M4 12H3m16.95 7.95l-.7-.7M5.76 5.76l-.7-.7M12 5a7 7 0 100 14a7 7 0 000-14z"/>
        </svg>
        <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800 dark:text-gray-200 hidden transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 12.79A9 9 0 1111.21 3A7 7 0 0021 12.79z"/>
        </svg>
      </button>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-button" class="md:hidden focus:outline-none" aria-label="Toggle Menu">
        <svg class="w-7 h-7 text-primary-500" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12" />
          <line x1="3" y1="6" x2="21" y2="6" />
          <line x1="3" y1="18" x2="21" y2="18" />
        </svg>
      </button>
    </div>

    <!-- Desktop Navigation -->
    <nav class="hidden md:flex space-x-8 font-body text-gray-700 dark:text-gray-200">
      <a href="/" class="hover-underline">Home</a>
      <a href="/#about" class="hover-underline">About</a>
      <a href="/#services" class="hover-underline">Services</a>
      <a href="/#plans" class="hover-underline">Plans</a>
      <a href="/#testimonials" class="hover-underline">Testimonials</a>
      <a href="/#contact" class="hover-underline">Contact</a>
    </nav>
  </div>

  <!-- Mobile Navigation -->
  <nav id="mobile-menu" class="md:hidden bg-white dark:bg-gray-900 shadow-lg absolute w-full left-0 top-16 hidden px-4 py-4 space-y-2 font-body">
    <a href="/" class="block text-gray-700 dark:text-gray-200 hover-underline">Home</a>
    <a href="/#about" class="block text-gray-700 dark:text-gray-200 hover-underline">About</a>
    <a href="/#services" class="block text-gray-700 dark:text-gray-200 hover-underline">Services</a>
    <a href="/#plans" class="block text-gray-700 dark:text-gray-200 hover-underline">Plans</a>
    <a href="/#testimonials" class="block text-gray-700 dark:text-gray-200 hover-underline">Testimonials</a>
    
    <!-- Mobile Contact (opens modal) -->
    <button
      onclick="document.getElementById('mobile-menu').classList.add('hidden'); openContactForm();"
      class="flex items-center space-x-2 w-full text-left text-gray-700 dark:text-gray-200 hover-underline"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-18 8h18a2 2 0 002-2V6a2 2 0 00-2-2H3a2 2 0 00-2 2v8a2 2 0 002 2z" />
      </svg>
      <span>Contact</span>
    </button>
  </nav>

  <script is:inline>
    // Mobile Menu
    const button = document.getElementById('mobile-menu-button');
    const menu = document.getElementById('mobile-menu');
    button?.addEventListener('click', () => {
      menu.classList.toggle('hidden');
    });

    // Dark Mode Toggle
    const toggle = document.getElementById('dark-mode-toggle');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');

    function updateIcons() {
      if (document.documentElement.classList.contains('dark')) {
        sunIcon.classList.remove('hidden');
        sunIcon.classList.add('rotate-180', 'scale-110');
        moonIcon.classList.add('hidden');
      } else {
        moonIcon.classList.remove('hidden');
        moonIcon.classList.add('rotate-180', 'scale-110');
        sunIcon.classList.add('hidden');
      }
      setTimeout(() => {
        sunIcon.classList.remove('rotate-180', 'scale-110');
        moonIcon.classList.remove('rotate-180', 'scale-110');
      }, 300);
    }

    // Load preference
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark');
    } else if (localStorage.getItem('theme') === 'light') {
      document.documentElement.classList.remove('dark');
    }
    updateIcons();

    toggle?.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      if (document.documentElement.classList.contains('dark')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
      updateIcons();
    });
  </script>
</header>
