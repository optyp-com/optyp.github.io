---
/* File: src/components/Header.astro */
const nav = [
  { href: '/', label: 'Home' },
  { href: '/#services', label: 'Services' },
  { href: '/#plans', label: 'Plans' },
  { href: '/#testimonials', label: 'Clients' },
  { href: '/faq', label: 'FAQ' },
];
---
<header id="site-header" class="fixed inset-x-0 top-0 z-50 transition-all">
  <div class="px-4 bg-white/70 backdrop-blur-md shadow-sm">
    <div class="container flex items-center justify-between h-16">
      
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2">
        <img src="/images/logo.svg" alt="OPTYP logo" class="h-8 w-auto" />
        <span class="font-heading text-lg font-bold text-brand">OPTYP</span>
      </a>

      <!-- Desktop nav -->
      <nav class="hidden md:flex items-center gap-6">
        {nav.map(item => (
          <a class="text-sm font-medium text-slate-700 hover:text-brand transition" href={item.href}>
            {item.label}
          </a>
        ))}
        <a href="#contact" class="ml-2 btn-ghost">Contact</a>
        <button onclick="openContactForm()" class="ml-4 btn-primary">Get Started</button>
      </nav>

      <!-- Mobile menu button -->
      <div class="md:hidden">
        <button id="mobile-toggle" aria-label="Open menu" class="p-2 rounded-md">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden md:hidden bg-white/90 backdrop-blur-lg border-t border-gray-100">
    <div class="container py-4 space-y-2">
      {nav.map(item => (
        <a class="block text-base font-medium text-slate-700 py-2 hover:text-brand" href={item.href}>{item.label}</a>
      ))}
      <div class="pt-2">
        <a href="#contact" class="block w-full text-center py-2 btn-ghost">Contact</a>
        <button onclick="openContactForm()" class="mt-2 w-full btn-primary">Get Started</button>
      </div>
    </div>
  </div>

  <script>
    // Mobile toggle
    const toggle = () => {
      document.getElementById('mobile-menu')?.classList.toggle('hidden');
    };
    document.getElementById('mobile-toggle')?.addEventListener('click', toggle);

    // Sticky scroll effect
    const header = document.getElementById('site-header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 48) {
        header.classList.add("shadow-md", "bg-white/90");
      } else {
        header.classList.remove("shadow-md", "bg-white/90");
      }
    });

    // Contact modal function (global)
    window.openContactForm = function() {
      const modal = document.getElementById('contact-modal');
      if (!modal) return;
      modal.classList.remove('hidden','opacity-0','pointer-events-none');
      modal.classList.add('opacity-100');
      document.body.style.overflow = 'hidden';
    };
  </script>
</header>
