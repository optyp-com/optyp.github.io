---
 // src/components/Header.astro
---
<header id="site-header" class="backdrop-blur-md bg-transparent sticky top-0 z-50 transition-all duration-500 border-b border-white/10">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-2">
      <img src="/images/logo.svg" alt="OPTYP Logo" class="h-10 w-auto drop-shadow-lg" />
      <span class="font-bold text-xl tracking-wide text-white">OPTYP</span>
    </a>

    <!-- Mobile Menu Button -->
    <button id="mobile-menu-button" class="md:hidden focus:outline-none" aria-label="Toggle Menu">
      <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2"
        viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12" />
        <line x1="3" y1="6" x2="21" y2="6" />
        <line x1="3" y1="18" x2="21" y2="18" />
      </svg>
    </button>

    <!-- Desktop Navigation -->
    <nav class="hidden md:flex items-center space-x-8 font-semibold font-body text-gray-200">
      <a href="/#hero" class="nav-link" data-section="hero">Home</a>
      <a href="/#about" class="nav-link" data-section="about">About</a>
      <a href="/#services" class="nav-link" data-section="services">Services</a>
      <a href="/#plans" class="nav-link" data-section="plans">Plans</a>
      <a href="/#testimonials" class="nav-link" data-section="testimonials">Testimonials</a>
      <a href="/#contact" class="nav-link" data-section="contact">Contact</a>
      <a href="/#contact" class="glass-btn px-4 py-2 rounded-lg">Get Started</a>
    </nav>
  </div>

  <!-- Mobile Navigation -->
  <nav id="mobile-menu" class="md:hidden backdrop-blur-md bg-black/70 border-t border-white/10 absolute w-full left-0 top-16 hidden px-4 py-4 space-y-3 font-semibold font-body text-gray-200">
    <a href="/#hero" class="nav-link block" data-section="hero">Home</a>
    <a href="/#about" class="nav-link block" data-section="about">About</a>
    <a href="/#services" class="nav-link block" data-section="services">Services</a>
    <a href="/#plans" class="nav-link block" data-section="plans">Plans</a>
    <a href="/#testimonials" class="nav-link block" data-section="testimonials">Testimonials</a>
    <a href="/#contact" class="nav-link block" data-section="contact">Contact</a>
    <a href="/#contact" class="glass-btn w-full text-center block px-4 py-2 rounded-lg">Get Started</a>
  </nav>

  <script is:inline>
    const button = document.getElementById('mobile-menu-button');
    const menu = document.getElementById('mobile-menu');
    const header = document.getElementById('site-header');
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('section[id]');

    // Mobile menu toggle
    button?.addEventListener('click', () => {
      menu.classList.toggle('hidden');
    });

    // Scrollspy (highlight current section)
    function setActive(sectionId) {
      navLinks.forEach(link => {
        if (link.dataset.section === sectionId) {
          link.classList.add('text-neon', 'font-bold');
        } else {
          link.classList.remove('text-neon', 'font-bold');
        }
      });
    }

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            setActive(entry.target.id);
          }
        });
      },
      { threshold: 0.6 }
    );

    sections.forEach(section => observer.observe(section));

    // Smooth scroll for links
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        const targetId = link.getAttribute('href').split('#')[1];
        const target = document.getElementById(targetId);
        if (target) {
          e.preventDefault();
          window.scrollTo({
            top: target.offsetTop - 70,
            behavior: 'smooth'
          });
        }
        menu.classList.add('hidden'); // close mobile menu
      });
    });

    // Header glass effect on scroll
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header.classList.add('bg-black/70', 'backdrop-blur-lg', 'shadow-lg');
      } else {
        header.classList.remove('bg-black/70', 'backdrop-blur-lg', 'shadow-lg');
      }
    });
  </script>

  <style>
    .nav-link {
      position: relative;
      transition: all 0.3s ease;
    }

    /* Neon glow hover effect */
    .nav-link:hover {
      color: #00ffcc;
      text-shadow: 0 0 10px #00ffcc, 0 0 20px #00ffcc;
    }

    .text-neon {
      color: #00ffcc !important;
      text-shadow: 0 0 8px #00ffcc, 0 0 20px #00ffcc;
    }

    /* Glass button */
    .glass-btn {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #00ffcc;
      font-weight: 600;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .glass-btn:hover {
      background: rgba(0, 255, 204, 0.15);
      box-shadow: 0 0 15px #00ffcc;
      color: #fff;
    }
  </style>
</header>
