---
const { testimonials } = Astro.props;
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
import { Quote } from "lucide-react";
---

<section id="testimonials" class="relative py-24 bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200">
  <div class="container mx-auto max-w-7xl px-6 text-center relative">
    <!-- Section Heading -->
    <h2 class="text-4xl sm:text-5xl font-extrabold mb-6 text-gray-900 tracking-wide-heading animate-fadeInUp">
      Hear From Our Clients
    </h2>
    <div class="w-20 h-1 bg-gradient-to-r from-primary-500 to-primary-700 mx-auto mb-12 rounded-full"></div>
    <p class="text-gray-700 text-lg mb-14 max-w-3xl mx-auto animate-fadeInUp">
      We’ve optimized <span class="font-semibold text-primary-600">500+ profiles</span> across multiple countries.  
      Our mission: <strong>Confidential, effective, global impact.</strong>
    </p>

    <!-- Swiper Carousel -->
    <swiper-container
      class="pb-12"
      space-between="30"
      slides-per-view="1"
      autoplay-delay="4500"
      autoplay-disable-on-interaction="false"
      pagination="true"
      navigation="true"
      loop="true"
      breakpoints='{"768":{"slidesPerView":2},"1024":{"slidesPerView":3}}'
    >
      {testimonials.map(({ quote, profession, location }) => (
        <swiper-slide>
          <blockquote
            class="relative bg-glass-gradient backdrop-blur-lg border border-white/30 p-8 rounded-2xl shadow-glass hover:shadow-glow transition duration-500 text-left h-full flex flex-col justify-between animate-fadeInUp"
          >
            <!-- Quote Icon -->
            <div class="mb-6 flex items-center justify-center w-14 h-14 rounded-full bg-primary-600 text-white shadow-lg">
              <Quote class="w-7 h-7" />
            </div>

            <!-- Quote -->
            <p class="text-gray-800 italic mb-6 text-lg leading-relaxed">
              “{quote}”
            </p>

            <!-- Footer -->
            <footer class="text-sm font-bold text-primary-600 uppercase tracking-wide">
              {profession}, {location}
            </footer>
          </blockquote>
        </swiper-slide>
      ))}
    </swiper-container>

    <!-- Navigation Arrows -->
    <div class="swiper-button-prev hidden md:flex absolute left-0 top-1/2 transform -translate-y-1/2 z-10"></div>
    <div class="swiper-button-next hidden md:flex absolute right-0 top-1/2 transform -translate-y-1/2 z-10"></div>
  </div>
</section>

<!-- Scripts -->
<script>
  import 'swiper/element/bundle';
</script>

<style>
  /* Pagination dots */
  .swiper-pagination-bullet {
    background: #3CB592;
    opacity: 0.4;
    transition: all 0.3s;
  }
  .swiper-pagination-bullet-active {
    background: #2F9E7F;
    opacity: 1;
    transform: scale(1.2);
  }

  /* Navigation arrows */
  .swiper-button-next,
  .swiper-button-prev {
    color: #3CB592;
    background: transparent;
    border-radius: 0;
    width: auto;
    height: auto;
    box-shadow: none;
    transition: transform 0.3s, color 0.3s;
  }
  .swiper-button-next:hover,
  .swiper-button-prev:hover {
    color: #2F9E7F;
    transform: scale(1.25);
  }
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 1.75rem;
    font-weight: bold;
  }
</style>
