---
const { testimonials } = Astro.props;
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
---

<section id="testimonials" class="bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 py-20 relative">
  <div class="container mx-auto max-w-6xl px-6 text-center relative">
    <!-- Section Heading -->
    <h2 class="text-5xl font-extrabold mb-4 text-gray-900 tracking-wide-heading">
      Hear From Our Clients Worldwide
    </h2>
    <div class="w-20 h-1 bg-gradient-to-r from-primary-500 to-primary-700 mx-auto mb-10 rounded-full"></div>

    <!-- Intro -->
    <p class="text-gray-800 text-xl mb-6 max-w-4xl mx-auto">
      We have successfully optimized over 
      <span class="font-semibold text-primary-600">500+ professional profiles</span> 
      across multiple countries, empowering careers globally.
    </p>
    <p class="mb-12 text-lg font-semibold text-gray-800 max-w-3xl mx-auto">
      <strong>We value your privacy.</strong><br />
      Your personal and professional details are never disclosed. <br />
      Confidentiality and trust are the foundation of our service.
    </p>

    <!-- Swiper Carousel -->
    <swiper-container
      class="pb-16"
      space-between="30"
      slides-per-view="1"
      autoplay-delay="4000"
      autoplay-disable-on-interaction="false"
      pagination="true"
      navigation="true"
      loop="true"
      breakpoints='{"768":{"slidesPerView":2},"1024":{"slidesPerView":3}}'
    >
      {testimonials.map(({ quote, profession, location }) => (
        <swiper-slide>
          <blockquote
            class="relative group bg-white/20 backdrop-blur-lg border border-white/30 p-8 rounded-2xl shadow-lg hover:scale-105 transition duration-500 hover:border-primary-500"
          >
            <!-- Speech bubble tail -->
            <span class="absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[12px] border-r-[12px] border-t-[16px] border-l-transparent border-r-transparent border-t-white/30"></span>

            <!-- Animated profile icon -->
            <div class="mx-auto mb-4 w-16 h-16 rounded-full bg-primary-600 flex items-center justify-center shadow-md group-hover:scale-110 transition duration-500">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A9.969 9.969 0 0112 15c2.21 0 4.243.72 5.879 1.929M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
            </div>

            <p class="text-gray-800 italic mb-6 text-lg leading-relaxed">
              "{quote}"
            </p>
            <footer class="text-sm font-bold text-primary-600 uppercase tracking-wide transition-colors duration-300 group-hover:text-primary-700">
              {profession}, {location}
            </footer>
          </blockquote>
        </swiper-slide>
      ))}
    </swiper-container>

    <!-- Arrows (hidden on mobile) -->
    <div class="swiper-button-prev custom-nav hidden md:flex absolute left-0 top-1/2 transform -translate-y-1/2 z-10"></div>
    <div class="swiper-button-next custom-nav hidden md:flex absolute right-0 top-1/2 transform -translate-y-1/2 z-10"></div>
  </div>
</section>

<!-- Scripts -->
<script>
  import 'swiper/element/bundle';
</script>

<style>
  /* Pagination dots */
  .swiper-pagination-bullet {
    background: #4ade80;
    opacity: 0.5;
    transition: all 0.3s;
  }
  .swiper-pagination-bullet-active {
    background: #16a34a;
    opacity: 1;
    transform: scale(1.2);
  }

  /* Navigation arrows */
  .swiper-button-next,
  .swiper-button-prev {
    color: #16a34a;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: all 0.3s;
  }
  .swiper-button-next:hover,
  .swiper-button-prev:hover {
    background: #16a34a;
    color: white;
    transform: scale(1.15);
  }
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 1.25rem;
    font-weight: bold;
  }
</style>
