---
import CookiePreferences from '../components/CookiePreferences.astro';
---

<footer class="bg-black text-white py-12 font-body relative">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      
      <!-- Company Info -->
      <div class="md:col-span-1 flex flex-col">
        <div class="flex items-center mb-4 space-x-3">
          <img src="/images/logo.svg" alt="OPTYP Logo" class="h-8 w-auto" />
          <h3 class="text-xl font-bold text-[#47C6A2]">OPTYP</h3>
        </div>
        <p class="text-gray-300 text-sm leading-relaxed">
          Professional resume & profile optimization services.
          <span class="text-[#47C6A2] font-semibold"> Get Set, Get Hired!</span>
        </p>
        <div class="mt-4">
          <a href="mailto:info@optyp.com" 
             class="text-[#47C6A2] hover:text-[#36a787] transition-colors duration-200">
            info@optyp.com
          </a>
          <p class="text-sm text-gray-400 mt-2">
            Bengaluru, Karnataka, India
          </p>
        </div>

        <!-- Social Icons -->
        <div class="flex space-x-4 mt-6">
          <!-- LinkedIn -->
          <a href="https://linkedin.com/company/optyp" target="_blank" rel="noopener noreferrer"
             aria-label="OPTYP LinkedIn Page" title="OPTYP LinkedIn"
             class="social-icon text-gray-300 hover:text-[#0A66C2] transition-colors">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" fill="currentColor" 
                 viewBox="0 0 24 24" class="w-6 h-6">
              <path d="M19 0h-14C2.2 0 0 2.2 0 5v14c0 2.8 2.2 5 5 5h14c2.8 0 5-2.2 5-5V5c0-2.8-2.2-5-5-5zM8 19H5V9h3v10zm-1.5-11.3c-1 0-1.7-.7-1.7-1.6s.7-1.6 1.7-1.6 1.7.7 1.7 1.6c0 .9-.7 1.6-1.7 1.6zM20 19h-3v-5c0-1.2-.4-2-1.5-2-0.8 0-1.3.6-1.5 1.1-.1.2-.1.5-.1.7V19h-3V9h3v1.2c.4-.6 1.1-1.5 2.7-1.5 2 0 3.4 1.3 3.4 4V19z"/>
            </svg>
          </a>

          <!-- Twitter -->
          <a href="https://twitter.com/optyp" target="_blank" rel="noopener noreferrer"
             aria-label="OPTYP Twitter Profile" title="OPTYP Twitter"
             class="social-icon text-gray-300 hover:text-[#1DA1F2] transition-colors">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" fill="currentColor" 
                 viewBox="0 0 24 24" class="w-6 h-6">
              <path d="M23 3a10.9 10.9 0 01-3.14.9A4.48 4.48 0 0022.4 1.6a8.18 8.18 0 01-2.6 1 4.52 4.52 0 00-7.7 4.1A12.94 12.94 0 013 2s-4 9 5 13a13.37 13.37 0 01-7 2c8 5 17 0 17-11.5v-.5A7.7 7.7 0 0023 3z"/>
            </svg>
          </a>

          <!-- Facebook -->
          <a href="https://facebook.com/optyp" target="_blank" rel="noopener noreferrer"
             aria-label="OPTYP Facebook Page" title="OPTYP Facebook"
             class="social-icon text-gray-300 hover:text-[#1877F2] transition-colors">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" fill="currentColor" 
                 viewBox="0 0 24 24" class="w-6 h-6">
              <path d="M22.68 0H1.32A1.3 1.3 0 000 1.32v21.36A1.3 1.3 0 001.32 24H12.8V14.7H9.7V11h3.1V8.4c0-3.1 1.9-4.8 4.7-4.8 1.3 0 2.5.1 2.8.1v3.2h-1.9c-1.5 0-1.8.7-1.8 1.8V11h3.6l-.5 3.6h-3.1V24h6.1a1.3 1.3 0 001.3-1.3V1.3A1.3 1.3 0 0022.7 0z"/>
            </svg>
          </a>

          <!-- Instagram -->
          <a href="https://instagram.com/optyp" target="_blank" rel="noopener noreferrer"
             aria-label="OPTYP Instagram Profile" title="OPTYP Instagram"
             class="social-icon text-gray-300 hover:text-[#E1306C] transition-colors">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" fill="currentColor" 
                 viewBox="0 0 24 24" class="w-6 h-6">
              <path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4c0 3.2-2.6 5.8-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8C2 4.6 4.6 2 7.8 2zm0 1.5C5.9 3.5 4.5 4.9 4.5 7.8v8.4c0 2.9 1.4 4.3 3.3 4.3h8.4c2 0 3.3-1.4 3.3-4.3V7.8c0-2.9-1.4-4.3-3.3-4.3H7.8zM12 7a5 5 0 110 10 5 5 0 010-10zm0 1.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm5.8-.3a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0z"/>
            </svg>
          </a>
        </div>
      </div>

      <!-- Services -->
      <div>
        <h4 class="font-semibold mb-4 text-[#47C6A2]">Services</h4>
        <ul class="space-y-2 text-sm text-gray-300">
          <li><a href="https://optyp.com/explore/ats-resume/" class="hover:text-[#47C6A2] transition-colors">ATS Resume</a></li>
          <li><a href="https://optyp.com/explore/linkedin/" class="hover:text-[#47C6A2] transition-colors">LinkedIn Optimization</a></li>
          <li><a href="https://optyp.com/explore/job-portals/naukri/" class="hover:text-[#47C6A2] transition-colors">naukri Website</a></li>
          <li><a href="https://optyp.com/explore/job-portals/indeed/" class="hover:text-[#47C6A2] transition-colors">indeed Optimization</a></li>
          <li><a href="https://optyp.com/explore/freelancing/fiverr/" class="hover:text-[#47C6A2] transition-colors">fiverr Optimization</a></li>
          <li><a href="https://optyp.com/explore/freelancing/upwork/" class="hover:text-[#47C6A2] transition-colors">upwork Optimization</a></li>
          <li><a href="https://optyp.com/explore/freelancing/toptal/" class="hover:text-[#47C6A2] transition-colors">toptal Optimization</a></li>
          <li><a href="https://optyp.com/explore/github/" class="hover:text-[#47C6A2] transition-colors">github Optimization</a></li>
          <li><a href="https://optyp.com/explore/portfolio-site/" class="hover:text-[#47C6A2] transition-colors">portfolio-site Optimization</a></li>
          <li><a href="https://optyp.com/explore/personal-branding/" class="hover:text-[#47C6A2] transition-colors">personal-branding</a></li>
        </ul>
      </div>

      <!-- Quick Links -->
      <div>
        <h4 class="font-semibold mb-4 text-[#47C6A2]">Quick Links</h4>
        <ul class="space-y-2 text-sm text-gray-300">
          <li><a href="/" class="hover:text-[#47C6A2] transition-colors">Home</a></li>
          <li><a href="/#about" class="hover:text-[#47C6A2] transition-colors">About</a></li>
          <li><a href="/#plans" class="hover:text-[#47C6A2] transition-colors">Plans</a></li>
          <li><a href="/#contact" class="hover:text-[#47C6A2] transition-colors">Contact</a></li>
          <li><a href="/feedback/" class="hover:text-[#47C6A2] transition-colors">Feedback</a></li>
          <li><a href="/faq" class="hover:text-[#47C6A2] transition-colors">faq</a></li>
        </ul>
      </div>

      <!-- Legal -->
      <div>
        <h4 class="font-semibold mb-4 text-[#47C6A2]">Legal</h4>
        <ul class="space-y-2 text-sm text-gray-300">
          <li><a href="/privacy/" class="hover:text-[#47C6A2] transition-colors">Privacy Policy</a></li>
          <li><a href="/terms/" class="hover:text-[#47C6A2] transition-colors">Terms &amp; Conditions</a></li>
          <li><a href="/refund/" class="hover:text-[#47C6A2] transition-colors">Refund Policy</a></li>
          <li><a href="/disclaimer/" class="hover:text-[#47C6A2] transition-colors">Disclaimer</a></li>
          <li><a href="/cookies/" class="hover:text-[#47C6A2] transition-colors">Cookies Policy</a></li>
        </ul>

        <!-- Manage Cookies Button -->
        <div class="mt-4">
          <CookiePreferences />
        </div>
      </div>
    </div>

    <!-- Copyright -->
    <div class="border-t border-white/6 mt-8 pt-8 text-center">
      <p class="text-gray-400 text-sm">
        Â© <span id="footer-year" aria-hidden="true"></span> OPTYP. All rights reserved | 
        <span class="text-[#47C6A2] font-semibold">Get Set, Get Hired!</span>
      </p>
    </div>
  </div>


  </button>

  <!-- Back to Top -->
  <button 
    id="backToTop" 
    class="fixed bottom-4 left-1/2 -translate-x-1/2
           backdrop-blur-md bg-white/6 border border-white/10 w-10 h-10 rounded-full shadow-lg 
           flex items-center justify-center text-white
           hover:bg-[#47C6A2] hover:text-black
           transition-all duration-300 opacity-0 pointer-events-none z-50 focus:outline-none"
    aria-label="Back to Top"
    title="Back to Top"
    tabindex="0"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" 
         viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"/>
    </svg>
  </button>

  <!-- Footer Scripts -->
  <script is:inline>
    (function() {
      const yearEl = document.getElementById('footer-year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();

      const backToTop = document.getElementById('backToTop');
      const manageCookiesBtn = document.getElementById('manageCookiesBtn');

      function updateBackToTopVisibility() {
        const scrollY = window.scrollY || window.pageYOffset;
        const halfPage = (document.documentElement.scrollHeight || document.body.scrollHeight) / 2;
        if (scrollY > halfPage) backToTop.classList.remove('opacity-0', 'pointer-events-none');
        else backToTop.classList.add('opacity-0', 'pointer-events-none');
      }

      function scrollTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
      backToTop.addEventListener('click', scrollTop);
      backToTop.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); scrollTop(); }
      });
      window.addEventListener('scroll', updateBackToTopVisibility, { passive: true });
      window.addEventListener('resize', updateBackToTopVisibility);
      updateBackToTopVisibility();

      // Floating Manage Cookies Button: Open Cookie Preferences Modal
      if (manageCookiesBtn) {
        manageCookiesBtn.addEventListener('click', () => {
          const openEvent = new CustomEvent('openCookieModal');
          window.dispatchEvent(openEvent);
        });
      }

      // Additionally, ensure global event opens modal if modal exists (fallback)
      window.addEventListener('openCookieModal', () => {
        const modal = document.querySelector('#cookie-preferences-modal');
        if (modal) modal.classList.remove('hidden');
      });
    })();
  </script>

  <!-- JSON-LD Structured Data with Address -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "OPTYP",
    "url": "https://optyp.github.io",
    "logo": "https://optyp.github.io/images/logo.svg",
    "sameAs": [
      "https://linkedin.com/company/optyp",
      "https://instagram.com/optyp",
      "https://facebook.com/optyp",
      "https://twitter.com/optyp"
    ],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Bengaluru",
      "addressRegion": "Karnataka",
      "addressCountry": "India"
    },
    "brand": {
      "@type": "Brand",
      "name": "OPTYP",
      "themeColor": "#47C6A2"
    }
  }
  </script>

  <style>
    .social-icon svg { transition: transform .18s ease, filter .18s ease; }
    .social-icon:hover svg { transform: translateY(-3px); filter: drop-shadow(0 6px 14px rgba(71,198,162,0.25)); }

    @media (max-width: 640px) {
      #backToTop { bottom: 6px; width: 44px; height: 44px; }
    }
  </style>
</footer>
