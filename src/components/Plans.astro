---
/* File: src/components/Plans.astro */
const plans = [
  {
    key: 'starter',
    title: 'Starter',
    price: '₹ 999',
    freq: 'one-time',
    bullets: ['Resume audit', '1 revision', 'LinkedIn quick fix'],
    ribbon: null,
  },
  {
    key: 'professional',
    title: 'Professional',
    price: '₹ 2,499',
    freq: 'one-time',
    bullets: ['Full ATS optimization', '2 revisions', 'Cover letter template'],
    ribbon: 'Most popular'
  },
  {
    key: 'career',
    title: 'Career Boost',
    price: '₹ 4,999',
    freq: 'one-time',
    bullets: ['CV + LinkedIn + Cover letter', 'Interview prep', 'Priority support'],
    ribbon: null
  },
];
function tickIcon() {
  return `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-brand" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7"/></svg>`;
}
---
<section id="plans" class="py-20 bg-white">
  <div class="container">
    <div class="text-center mb-8">
      <h2 class="text-3xl md:text-4xl font-heading font-extrabold">Our Plans</h2>
      <p class="mt-3 text-gray-600 max-w-2xl mx-auto">Flexible plans built for job seekers at every stage.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {plans.map(p => (
        <div class={`relative bg-white rounded-xl p-6 shadow-card hover:shadow-lg transition transform hover:-translate-y-1 ${p.ribbon ? 'border-2 border-accent' : 'border border-gray-100'}`} aria-labelledby={`plan-${p.key}-title`}>
          {p.ribbon ? <div class="absolute -top-3 right-3 bg-gradient-to-r from-brand to-accent text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">{p.ribbon}</div> : null}
          <h3 id={`plan-${p.key}-title`} class="text-xl font-bold">{p.title}</h3>
          <div class="mt-3">
            <div class="text-3xl font-extrabold">{p.price}</div>
            <div class="text-sm text-gray-600">{p.freq}</div>
          </div>
          <ul class="mt-4 space-y-2 text-sm text-gray-700">
            {p.bullets.map(b => (
              <li class="flex items-center gap-2" set:html={`${tickIcon()} ${b}`} />
            ))}
          </ul>
          <div class="mt-6">
            <button class="btn-primary w-full" onclick="openContactForm()">Choose {p.title}</button>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
