---
import Contact from "./contact.astro";
---

<section id="faq" class="relative py-20 px-4 bg-gradient-to-br from-black via-gray-900 to-black text-white">
  <div class="container mx-auto max-w-5xl text-center">
    <!-- Section Heading -->
    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold mb-4 tracking-wide-heading">
      Frequently Asked Questions
    </h2>

    <div class="w-20 h-1 bg-gradient-to-r from-teal-400 to-teal-600 mx-auto mb-10 rounded-full shadow-sm"></div>

    <p class="text-gray-300 mb-12 max-w-xl mx-auto text-lg font-medium">
      Quick answers to the most common questions about our resume and profile services.
    </p>

    <!-- FAQ Items -->
    <div class="space-y-6 text-left">
      <!-- FAQ 1 -->
      <div class="faq-card group glass-box transition duration-500 hover:scale-[1.02] hover:shadow-xl">
        <button
          class="faq-question w-full text-left p-6 font-bold text-lg flex justify-between items-center text-white"
          aria-expanded="false"
          aria-controls="faq1"
          id="faq-btn-1"
        >
          <span>How does the process work after I sign up?</span>
          <svg class="w-6 h-6 transform transition-transform duration-300 text-teal-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="faq1" class="faq-answer max-h-0 overflow-hidden transition-all duration-500 px-6 text-gray-300 text-base">
          <p class="py-4">
            After purchase, you’ll receive a short questionnaire. Our team reviews your details, optimizes your profiles/resume, and delivers the first draft within 24–48 hours. You’ll then have time to request revisions (based on your plan).
          </p>
        </div>
      </div>

      <!-- FAQ 2 -->
      <div class="faq-card group glass-box transition duration-500 hover:scale-[1.02] hover:shadow-xl">
        <button
          class="faq-question w-full text-left p-6 font-bold text-lg flex justify-between items-center text-white"
          aria-expanded="false"
          aria-controls="faq2"
          id="faq-btn-2"
        >
          <span>How long does the delivery process take?</span>
          <svg class="w-6 h-6 transform transition-transform duration-300 text-teal-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="faq2" class="faq-answer max-h-0 overflow-hidden transition-all duration-500 px-6 text-gray-300 text-base">
          <p class="py-4">
            Most projects are completed within <strong>24–48 hours</strong>. Elite plan customers receive priority processing.
          </p>
        </div>
      </div>

      <!-- FAQ 3 -->
      <div class="faq-card group glass-box transition duration-500 hover:scale-[1.02] hover:shadow-xl">
        <button
          class="faq-question w-full text-left p-6 font-bold text-lg flex justify-between items-center text-white"
          aria-expanded="false"
          aria-controls="faq3"
          id="faq-btn-3"
        >
          <span>Do you offer revisions if I'm not satisfied?</span>
          <svg class="w-6 h-6 transform transition-transform duration-300 text-teal-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="faq3" class="faq-answer max-h-0 overflow-hidden transition-all duration-500 px-6 text-gray-300 text-base">
          <p class="py-4">
            Yes. Essentials & Professional → 1 free revision (7 days). Elite → 2 free revisions (14 days). Extra revisions at ₹500.
          </p>
        </div>
      </div>
    </div>

    <!-- CTA -->
    <div class="text-center mt-12">
      <button
        onclick="openContactForm()"
        class="inline-flex items-center px-8 py-3 rounded-lg font-semibold transition duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 bg-teal-600 hover:bg-teal-700 text-white shadow-lg hover:scale-105"
      >
        Get Started →
      </button>
    </div>
  </div>

  <!-- Styles -->
  <style>
    .glass-box {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 1rem;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
      transition: all 0.25s ease;
    }
    .faq-question {
      cursor: pointer;
    }
    .faq-question[aria-expanded="true"] svg {
      transform: rotate(180deg);
    }
    @media (max-width: 640px) {
      .faq-answer { font-size: 0.95rem; }
      .glass-box { border-radius: 0.8rem; }
    }
  </style>

  <!-- Toggle Script -->
  <script is:inline>
    (function () {
      function toggleFAQById(faqId, button) {
        const answer = document.getElementById(faqId);
        if (!answer || !button) return;
        const expanded = button.getAttribute("aria-expanded") === "true";

        document.querySelectorAll(".faq-answer").forEach(el => el.style.maxHeight = "0");
        document.querySelectorAll(".faq-question").forEach(btn => btn.setAttribute("aria-expanded", "false"));

        if (!expanded) {
          answer.style.maxHeight = answer.scrollHeight + "px";
          button.setAttribute("aria-expanded", "true");
        }
      }

      document.querySelectorAll(".faq-question").forEach(button => {
        const controls = button.getAttribute("aria-controls");
        button.addEventListener("click", () => toggleFAQById(controls, button));
      });

      // Open contact form from Get Started
      window.openContactForm = function () {
        const form = document.querySelector("#contact") || document.querySelector("contact");
        if (form) form.scrollIntoView({ behavior: "smooth" });
      };
    })();
  </script>

  <!-- Contact Modal -->
  <Contact />
</section>
