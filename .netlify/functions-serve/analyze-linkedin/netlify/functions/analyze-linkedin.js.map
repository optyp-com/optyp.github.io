{
  "version": 3,
  "sources": ["file:///D:/daws/repos/optyp.github.io/netlify/functions/analyze-linkedin.js"],
  "sourceRoot": "C:/Users/admin/AppData/Local/Temp/tmp-20096-JnpjbTmFplWA",
  "sourcesContent": ["// \u2705 /netlify/functions/analyze-linkedin.js\r\n// Evaluate a LinkedIn profile for optimization using Gemini\r\n\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nconsole.log(\r\n  \"\uD83D\uDD0D GEMINI_API_KEY status:\",\r\n  process.env.GEMINI_API_KEY ? \"FOUND \u2705\" : \"MISSING \u274C\"\r\n);\r\n\r\nexport async function handler(event) {\r\n  try {\r\n    const { profileUrl } = JSON.parse(event.body || \"{}\");\r\n\r\n    if (!profileUrl) {\r\n      return {\r\n        statusCode: 400,\r\n        body: JSON.stringify({ error: \"Missing LinkedIn profile URL\" }),\r\n      };\r\n    }\r\n\r\n    const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\n    const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n\r\n    const prompt = `\r\nYou are a LinkedIn optimization specialist.\r\nAnalyze the public LinkedIn profile at ${profileUrl}.\r\nProvide:\r\n1. Optimization Score (0\u2013100)\r\n2. Strengths & weaknesses\r\n3. Missing or underdeveloped sections (About, Headline, Skills, Recommendations)\r\n4. SEO / keyword tips\r\n5. 3 quick actionable improvements\r\n`;\r\n\r\n    const result = await model.generateContent(prompt);\r\n    const aiText = result.response.text();\r\n\r\n    return {\r\n      statusCode: 200,\r\n      body: JSON.stringify({ result: aiText }),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"\u274C analyze-linkedin error:\", error);\r\n    return {\r\n      statusCode: 500,\r\n      body: JSON.stringify({\r\n        error:\r\n          error?.message ||\r\n          \"Internal server error while processing LinkedIn analysis\",\r\n      }),\r\n    };\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,2BAAmC;AAEnC,QAAQ;AAAA,EACN;AAAA,EACA,QAAQ,IAAI,iBAAiB,iBAAY;AAC3C;AAEA,eAAsB,QAAQ,OAAO;AACnC,MAAI;AACF,UAAM,EAAE,WAAW,IAAI,KAAK,MAAM,MAAM,QAAQ,IAAI;AAEpD,QAAI,CAAC,YAAY;AACf,aAAO;AAAA,QACL,YAAY;AAAA,QACZ,MAAM,KAAK,UAAU,EAAE,OAAO,+BAA+B,CAAC;AAAA,MAChE;AAAA,IACF;AAEA,UAAM,QAAQ,IAAI,wCAAmB,QAAQ,IAAI,cAAc;AAC/D,UAAM,QAAQ,MAAM,mBAAmB,EAAE,OAAO,mBAAmB,CAAC;AAEpE,UAAM,SAAS;AAAA;AAAA,yCAEsB,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS/C,UAAM,SAAS,MAAM,MAAM,gBAAgB,MAAM;AACjD,UAAM,SAAS,OAAO,SAAS,KAAK;AAEpC,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,QAAQ,OAAO,CAAC;AAAA,IACzC;AAAA,EACF,SAAS,OAAO;AACd,YAAQ,MAAM,kCAA6B,KAAK;AAChD,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU;AAAA,QACnB,OACE,OAAO,WACP;AAAA,MACJ,CAAC;AAAA,IACH;AAAA,EACF;AACF;",
  "names": []
}
